import{Q as n}from"./QInput.7d3506de.js";import{r as i,m as d,y as p,s as u,p as c,q as o,Q as f}from"./index.ffe30b96.js";import{u as y,Q as g}from"./use-quasar.bde94721.js";import{Q as w}from"./QPage.0426d3d3.js";import"./use-dark.d0f820f4.js";const _={class:"q-pa-md col-8",style:{"max-width":"600px"}},k={__name:"LoginForm",setup(h){const l=y(),a=i(""),s=i(""),m=async()=>{try{const t=await(await fetch("/user/login",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({name:a.value,password:s.value})})).json();t.access_token?localStorage.setItem("access_token",t.access_token):l.notify({color:"red-5",textColor:"white",icon:"warning",message:t.message})}catch{l.notify({color:"red-5",textColor:"white",icon:"warning",message:"\u041D\u0435 \u0443\u0434\u0430\u043B\u043E\u0441\u044C \u043F\u043E\u0434\u043A\u043B\u044E\u0447\u0438\u0442\u044C\u0441\u044F \u043A \u0441\u0435\u0440\u0432\u0435\u0440\u0443"})}};return(r,t)=>(d(),p(w,{class:"row justify-center flex flex-center"},{default:u(()=>[c("div",_,[o(g,{onSubmit:m,class:"q-gutter-md"},{default:u(()=>[o(n,{filled:"",modelValue:a.value,"onUpdate:modelValue":t[0]||(t[0]=e=>a.value=e),label:"\u0418\u043C\u044F","lazy-rules":"",rules:[e=>e&&e.length>0||"\u041F\u043E\u0436\u0430\u043B\u0443\u0439\u0441\u0442\u0430, \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043C\u044F!"]},null,8,["modelValue","rules"]),o(n,{modelValue:s.value,"onUpdate:modelValue":t[1]||(t[1]=e=>s.value=e),filled:"",type:"password",rules:[e=>e&&e.length>0||"\u041F\u043E\u0436\u0430\u043B\u0443\u0439\u0441\u0442\u0430, \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u043F\u0430\u0440\u043E\u043B\u044C!"],hint:"\u041F\u0430\u0440\u043E\u043B\u044C"},null,8,["modelValue","rules"]),c("div",null,[o(f,{label:"\u0412\u043E\u0439\u0442\u0438",type:"submit",color:"primary"})])]),_:1})])]),_:1}))}};export{k as default};
