import{b as d,Q as n,c as p}from"./use-quasar.8801dce8.js";import{r as i,_ as f,$ as g,a0 as u,a5 as c,a1 as a,a2 as y}from"./index.b934aa72.js";import{Q as w}from"./QPage.78ef3cae.js";import"./use-dark.f296e719.js";const _={class:"q-pa-md col-8",style:{"max-width":"600px"}},v={__name:"LoginForm",setup(h){const l=d(),o=i(""),s=i(""),m=async()=>{try{const t=await(await fetch("/user/login",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({name:o.value,password:s.value})})).json();t.access_token?localStorage.setItem("access_token",t.access_token):l.notify({color:"red-5",textColor:"white",icon:"warning",message:t.message})}catch{l.notify({color:"red-5",textColor:"white",icon:"warning",message:"\u041D\u0435 \u0443\u0434\u0430\u043B\u043E\u0441\u044C \u043F\u043E\u0434\u043A\u043B\u044E\u0447\u0438\u0442\u044C\u0441\u044F \u043A \u0441\u0435\u0440\u0432\u0435\u0440\u0443"})}};return(r,t)=>(f(),g(w,{class:"row justify-center flex flex-center"},{default:u(()=>[c("div",_,[a(p,{onSubmit:m,class:"q-gutter-md"},{default:u(()=>[a(n,{filled:"",modelValue:o.value,"onUpdate:modelValue":t[0]||(t[0]=e=>o.value=e),label:"\u0418\u043C\u044F","lazy-rules":"",rules:[e=>e&&e.length>0||"\u041F\u043E\u0436\u0430\u043B\u0443\u0439\u0441\u0442\u0430, \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043C\u044F!"]},null,8,["modelValue","rules"]),a(n,{modelValue:s.value,"onUpdate:modelValue":t[1]||(t[1]=e=>s.value=e),filled:"",type:"password",rules:[e=>e&&e.length>0||"\u041F\u043E\u0436\u0430\u043B\u0443\u0439\u0441\u0442\u0430, \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u043F\u0430\u0440\u043E\u043B\u044C!"],hint:"\u041F\u0430\u0440\u043E\u043B\u044C"},null,8,["modelValue","rules"]),c("div",null,[a(y,{label:"\u0412\u043E\u0439\u0442\u0438",type:"submit",color:"primary"})])]),_:1})])]),_:1}))}};export{v as default};
